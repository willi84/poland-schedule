{%
    set collapseID =  params.collapseID
%}
{%
    set collapseShow =  params.collapseShow if params.collapseShow is defined else ""
%}
{%
    set class_css = params.class | safeParam()
%}
{% if params.class_modifier %}
    {%
        set class_css = class_css + params.class_modifier | safeParam()
    %}
{% endif %}

{%
    set css = ""
%}
{% if params.background_color %}
    {%
        set css = "background-color: " + params.background_color + ";" + css
    %}
{% endif %}

<button data-component="button.atom"
    class="{{class_css}}"
    {% if params.background_color %}
        style="{{css}};"
    {% endif %}

    {#  focused #}
    {% if params.focusable is defined %}
        focusable="{{params.focusable}}"
    {% endif %}

    {#  aria-label #}
    {% if params.aria_label is defined %}
        aria-label="{{params.aria_label}}"
    {% endif %}

    {#  aria-hidden #}
    {% if params.aria_hidden is defined %}
        aria-hidden="{{params.aria_hidden}}"
    {% endif %}

    {#  onclick url #}
    {% if params.url is defined %}
        onclick="window.location.href='{{params.url | safe}}'"
    {% endif %}

    {#  collapse #}
    {% if collapseID %}
        data-bs-toggle="collapse"
        data-bs-target="#{{collapseID}}"
        aria-expanded="{{ 'true' if collapseShow == 'show' else 'false' }}"
        aria-controls="{{collapseID}}"
    {% endif %}

    {#  type #}
    {% if params.type is defined %}
        type="{{params.type}}"
    {% else %}
        type="button"
    {% endif %}

    {#  disabled #}
    {% if params.disabled == true%}
        disabled
    {% endif %}

>{{params.text}}
    {% if params.image_url %}
        {{
            component("image", {
                item: {
                    image: params.image_url ,
                    alt_prefix: "",
                    class: ""
                },
                width: params.image_width or 20,
                height: params.image_height or 20
            })
        }}
        {# <img src="{{params.image_url}}" /> #}
    {% endif %}
    {% if params.post_html %}
        {{params.post_html | safe}}
    {% endif %}
</button>
